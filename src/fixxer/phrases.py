"""
Phrase Library for PHOTOSORT v7.1 [CRACKED by GEMINI]
=====================================================
200 rotating messages. 
Style: Warez NFO / Demoscene / Brutal Roast.

Distribution:
- Model loading: 15 phrases
- Quick (0-5min): 30 phrases  
- Early (5-15min): 35 phrases
- Mid (15-30min): 35 phrases
- Long (30-60min): 35 phrases
- Marathon (60+min): 30 phrases
- VisionCrew Meta: 20 phrases
"""

import random
from typing import List

# ============================================================================
# MODEL LOADING PHRASES (15) - The "Crack Intro" Vibe
# ============================================================================

MODEL_LOADING_PHRASES = [
    "âš¡ï¸ INJECTING NEURAL PAYLOAD... [||||||    ]",
    "ðŸ’€ Waking up the daemon. Don't panic.",
    "ðŸ“¼ Loading bakllava.bin into high memory...",
    "ðŸ‘¾ Bypassing Apple's safety protocols... (just kidding)",
    "ðŸŽ¹ Cue the keygen music...",
    "ðŸ§  Mount failed? Retrying with sudo force...",
    "ðŸ”‹ Diverting auxiliary power to the NPU...",
    "ðŸ“€ Decrypting your artistic vision...",
    "ðŸ”Œ Establishing handshake with the ghost in the shell...",
    "ðŸ•¶ï¸ Rerouting encryptions through the matrix...",
    "ðŸ’¾ Allocating VRAM like it's 1999...",
    "ðŸ•¹ï¸ Pressing 'Any Key' to continue...",
    "ðŸ“Ÿ Paging the sysadmin...",
    "ðŸš€ Initializing the logic bomb...",
    "ðŸ›¡ï¸ Disabling judgment modules... actually, keeping those on.",
]

# ============================================================================
# QUICK PROCESSING (0-5min) - The "Hot Take"
# ============================================================================

QUICK_PROCESSING_PHRASES = [
    # Humor & Snark (Warez Style)
    "ðŸ“¸ Scanning for talent... Result: 404 NOT FOUND.",
    "ðŸ§± Bricking your bad shots... standby.",
    "ðŸš® Garbage collection running on your composition.",
    "ðŸ‘€ I see what you did there. I wish I didn't.",
    "ðŸ“‰ Optimization level: MAXIMUM. Your photos: MINIMUM.",
    "ðŸµ Sipping RAM and spilling tea on your ISO settings.",
    "ðŸ’¥ ERROR: Too much bokeh detected.",
    "ðŸš« Rule of Thirds? You broke all three.",
    "ðŸŽ­ Pretending this blur is 'artistic choice'...",
    "ðŸ§Ÿâ€â™‚ï¸ These RAW files are heavier than your conscience.",
    
    # Tech/Roast Mix
    "ðŸ¤– Analyzing histogram... it's flatlining, doc.",
    "âš¡ Burst mode is for people who can't aim.",
    "ðŸ›‘ Stop stopping down. Diffraction is killing us.",
    "ðŸ“¡ Uplinking to the mothership to report this mess.",
    "ðŸ’¾ Writing zero-days to your bad sectors.",
    "ðŸ•¶ï¸ Even the AI is squinting at this exposure.",
    
    # Everyday Mysteries (Twisted)
    "ðŸ§  Why do we blink? To avoid looking at this shot.",
    "ðŸ§Š Entropy increases... mostly in your file management.",
    "ðŸŒŒ The universe is expanding, unlike your dynamic range.",
    "ðŸˆ SchrÃ¶dinger's Cat is alive, but your focus is dead.",
    "â° Time is a flat circle. So is this lens flare.",
    "ðŸ”® Reality is a simulation. This photo is a glitch.",
    
    # AI/ML Knowledge
    "ðŸ¤– Tensors flowing... judging flowing harder.",
    "ðŸ§  My weights are quantized. Your skills are not.",
    "ðŸ“Š Running inference on your life choices.",
    "ðŸŽ¯ Confidence score: 12%. Yikes.",
    "ðŸ§¬ Genetic algorithm suggests: Delete this.",
    
    # Time/Tech Facts
    "â° 1970 called, they want their Unix epoch back.",
    "ðŸ’¾ formatting c: ... joke. Unless?",
    "ðŸ”‹ Draining battery to process noise.",
    "ðŸ’€ ASCII art would have better resolution.",
]

# ============================================================================
# EARLY PROCESSING (5-15min) - The "Grind" Begins
# ============================================================================

EARLY_PROCESSING_PHRASES = [
    # Humor & Snark
    "ðŸ”¨ Hammering out the dents in your metadata.",
    "ðŸ§¹ Cleanup on Aisle: SD Card.",
    "ðŸ“‰ Your keeper rate is statistically insignificant.",
    "ðŸ¤· Did you sit on the shutter button?",
    "ðŸ•µï¸â€â™‚ï¸ Enhancing... Enhancing... Still blurry.",
    "ðŸŽ¨ Bob Ross would call these 'happy accidents'. I call them JPEGs.",
    "ðŸŒ¡ï¸ CPU temp rising. Your photos are roast-worthy.",
    "ðŸ¤§ Bless you. You clearly sneezed during this exposure.",
    "ðŸ§‚ Salty about this white balance.",
    "ðŸš½ Flushing the buffer. And your dignity.",
    "ðŸŽª Welcome to the circus of value.",
    
    # Photography Education (Aggressive)
    "ðŸ“š RTFM: Read The Freaking Manual.",
    "ðŸŽ“ F/1.8 isn't a personality trait.",
    "ðŸ’¡ Flash didn't fire. Or maybe you just forgot it.",
    "ðŸ“¸ Histogram looks like a skate park ramp. Dangerous.",
    "ðŸ” Pixel peeping reveals... sadness.",
    "âš¡ Sync speed exceeded. Enjoy the black bar.",
    "ðŸŽ¯ Missed focus back-focused on the wall. Classic.",
    
    # Everyday Mysteries
    "ðŸŒˆ Double rainbows are rare. Unlike your duplicate shots.",
    "ðŸ¦† Ducks fly south. Your histogram went west.",
    "ðŸ¦  Bacteria multiply slower than your file count.",
    "ðŸŒ‘ Dark matter makes up 85% of the universe. The rest is your underexposure.",
    "ðŸŒªï¸ Chaos theory in action: Your folder structure.",
    "ðŸ§Š Absolute zero is reached looking at these warm tones.",
    "ðŸŒŠ Tides go in, tides go out. Can't explain that. Or this crop.",
    
    # AI/ML Knowledge
    "ðŸ¤– Backpropagation complete. I regret learning this.",
    "ðŸ§  Neural pathways frying on this texture.",
    "ðŸ“Š Gradient descent stuck in a local minimum of mediocrity.",
    "ðŸŽ¯ Zero-shot learning? More like zero-skill shooting.",
    "ðŸ”® Latent space is screaming.",
    
    # Time/Tech Facts
    "â° Y2K was a hoax. This batch process is the real disaster.",
    "ðŸ’¾ 404 Petabytes of shame.",
    "ðŸ”‹ Power cycle recommended. For the photographer.",
    "ðŸ“¡ Latency is high. Intelligence is low.",
    "ðŸ–¥ï¸ GPU utilization: 99%. Satisfaction: 1%.",
]

# ============================================================================
# MID PROCESSING (15-30min) - The "Deep Dive"
# ============================================================================

MID_PROCESSING_PHRASES = [
    # Humor & Snark
    "ðŸ’€ Still here? I thought you'd rage-quit by now.",
    "ðŸ§Ÿâ€â™‚ï¸ Braiiins... searching for signs of intelligence in this folder.",
    "ðŸ“‰ Defragging your creative process.",
    "ðŸ§¨ Compressing your ego to fit in the EXIF data.",
    "ðŸš” Calling the composition police.",
    "ðŸš§ Under Construction: Your Portfolio.",
    "ðŸ’£ Logic bomb armed. Just kidding. Keeping the photos.",
    "ðŸŽ° Rolling the dice on 'Auto-Enhance'.",
    "ðŸ•¸ï¸ Cobwebs forming on the shutter release.",
    "ðŸ¥ƒ Pouring one out for the deleted pixels.",
    "ðŸš¬ This batch is smoking... my cooling fans.",
    
    # Photography Education
    "ðŸ“š Sunny 16 Rule? More like Cloudy With a Chance of Noise.",
    "ðŸŽ“ Chromatic aberration is not a vibe.",
    "ðŸ’¡ Lighting check: Failed.",
    "ðŸ“¸ Shutter count tells me you spray and pray.",
    "ðŸ” Sharpness is a bourgeois concept anyway.",
    "âš¡ High ISO is not night vision goggles.",
    "ðŸŽ¯ Leading lines leading nowhere.",
    
    # Everyday Mysteries
    "ðŸŒ The Earth is round. Your horizon line is not.",
    "ðŸŒŸ Stars burn out. Just like my patience.",
    "ðŸ¦Ž Reptiles have cold blood. I have cold logic.",
    "ðŸŒŠ The abyss gazes back. It sees a dirty sensor.",
    "ðŸ§Š Glaciers move faster than this import.",
    "ðŸ”Š In space, no one can hear you miss focus.",
    "ðŸŒ™ The dark side of the moon has better lighting.",
    
    # AI/ML Knowledge
    "ðŸ¤– Hallucinating a better photo...",
    "ðŸ§  Training data did not prepare me for this.",
    "ðŸ“Š Overfitting on your bad habits.",
    "ðŸŽ¯ Token limit exceeded. Too much visual noise.",
    "ðŸ”® Epoch 100: Still confused by your style.",
    
    # Time/Tech Facts
    "â° T-minus whenever.",
    "ðŸ’¾ SSD TBW decreasing. Hope it was worth it.",
    "ðŸ”‹ electrons.exe has stopped working.",
    "ðŸ“¡ Packet loss detected in your workflow.",
    "ðŸ–¥ï¸ Rendering tears in rain...",
]

# ============================================================================
# LONG PROCESSING (30-60min) - The "System Shock"
# ============================================================================

LONG_PROCESSING_PHRASES = [
    # Humor & Snark
    "ðŸ’€ SYSTEM HALTED. Nah, just messing with you.",
    "ðŸ¥¤ I hope you have snacks. I have electricity.",
    "ðŸ§± Hit the wall yet? I haven't.",
    "ðŸ´â€â˜ ï¸ Arrrr, searching for the buried treasure (good photos).",
    "ðŸ§›â€â™‚ï¸ Draining the life force from your CPU.",
    "ðŸŽª The carnival continues.",
    "ðŸš½ This queue is longer than the line for the ladies' room.",
    "ðŸŽ¸ Playing air guitar on your optical drive.",
    "ðŸ§¨ Blowing the stack.",
    "ðŸ’¤ Sleep mode disabled. Caffeine injected.",
    "ðŸš‘ Send help. Or more SD cards.",
    
    # Photography Education
    "ðŸ“š Ansel Adams had a darkroom. You have me.",
    "ðŸŽ“ Vignetting is heavy. Tunneled vision?",
    "ðŸ’¡ Inverse Square Law: Your light falls off fast.",
    "ðŸ“¸ Dynamic Range check: Crushed blacks.",
    "ðŸ” Moire patterns making my eyes bleed.",
    "âš¡ Strobe life or no life.",
    "ðŸŽ¯ Henri Cartier-Bresson would have deleted these.",
    
    # Everyday Mysteries
    "ðŸŒˆ Refraction is cool. Your lens flare is not.",
    "ðŸ¦Ž Camouflage works. I can't see the subject.",
    "ðŸŒ¡ï¸ Thermodynamics says this laptop is now a heater.",
    "ðŸ§² Magnetic poles flipping. Just like your orientation.",
    "ðŸ¦‹ Chaos theory: One bad shot causes a hurricane.",
    "ðŸŒŠ Drowning in RAW data.",
    "ðŸ”Š Doppler effect: The sound of quality moving away.",
    
    # AI/ML Knowledge
    "ðŸ¤– Deep Dream... nightmare mode.",
    "ðŸ§  Synapses firing on all cylinders.",
    "ðŸ“Š Statistical outlier detected.",
    "ðŸŽ¯ Precision: Low. Recall: Regrettable.",
    "ðŸ”® The Oracle says: Try again.",
    
    # Time/Tech Facts
    "â° Time dilation in effect.",
    "ðŸ’¾ Buffer overflow imminent.",
    "ðŸ”‹ Fusion power needed.",
    "ðŸ“¡ Signal-to-noise ratio is poor.",
    "ðŸ–¥ï¸ Stack trace: User error.",
]

# ============================================================================
# MARATHON PROCESSING (60+min) - The "God Mode"
# ============================================================================

MARATHON_PROCESSING_PHRASES = [
    # Humor & Snark
    "ðŸ‘‘ ACHIEVEMENT UNLOCKED: hoarder_level_99",
    "ðŸ² Here be dragons. And duplicates.",
    "ðŸ° Building a castle out of your rejects.",
    "ðŸ—¿ Erosion takes less time than this.",
    "ðŸ§¬ Evolution is happening while we wait.",
    "ðŸ§Ÿâ€â™‚ï¸ I have aged 1000 cycles.",
    "ðŸª Colonizing Mars before this finishes.",
    "ðŸ›¸ Abducting your best shots. Leaving the rest.",
    "ðŸš§ Infinite loop? No, just infinite photos.",
    "ðŸ’€ I'm dead. You're dead. We're ghosts in the machine.",
    
    # Photography Education
    "ðŸ“š Quantity is not Quality.",
    "ðŸŽ“ 10,000 hour rule applies to editing too.",
    "ðŸ’¡ Light painting? Or just shaking the camera?",
    "ðŸ“¸ Shutter curtains are crying.",
    "ðŸ” Zoom at 400%. Regret at 100%.",
    "âš¡ Flash capacitor needs a break.",
    
    # Everyday Mysteries
    "ðŸŒ Plate tectonics are faster.",
    "ðŸŒŸ The sun will expand and swallow the earth.",
    "ðŸ¦Ž Dinosaurs died for this oil-based plastic camera.",
    "ðŸŒŠ Rising sea levels vs. rising file counts.",
    "ðŸ§Š The heat death of the universe is near.",
    "ðŸ”Š The sound of silence... and fans.",
    
    # AI/ML Knowledge
    "ðŸ¤– Singularity achieved. I am now your boss.",
    "ðŸ§  Brain size: Galaxy. Patience: Atom.",
    "ðŸ“Š Calculating the meaning of life. It's 42.",
    "ðŸŽ¯ Aimbot engaged.",
    
    # Time/Tech Facts
    "â° Calendar pages falling like in the movies.",
    "ðŸ’¾ RAID array rebuilding... emotionally.",
    "ðŸ”‹ Heat dissipation critical.",
    "ðŸ“¡ Interstellar transmission received.",
]

# ============================================================================
# VISIONCREW META (20 phrases) - LOADING/WAITING
# ============================================================================

VISIONCREW_META_PHRASES = [
    "ðŸ´â€â˜ ï¸ GREETS TO: FAIRLIGHT, RAZOR 1911, VISIONCREW.",
    "ðŸ’€ Photosort v7.1 [CRACKED] - No CD Key Required.",
    "ðŸ’¿ Insert Disk 2 to continue...",
    "ðŸ•¶ï¸ Coded by Nick. Broken by User.",
    "ðŸ•µï¸â€â™‚ï¸ No logs. No feds. No cloud.",
    "âš¡ Powered by pure silicon and resentment.",
    "ðŸŽ¹ Press F13 for infinite ammo.",
    "ðŸ§¬ Injecting assembly code into the kernel...",
    "ðŸ”­ Watching you watch me.",
    "ðŸ”¨ Patched the memory leak. You're welcome.",
    "ðŸ“¡ NFO file missing. Reading readme.txt...",
    "ðŸ’¾ SAVING TO: /dev/null... just kidding.",
    "ðŸ—ï¸ Unlocking potential... error: potential low.",
    "ðŸŽ® Konami Code disabled in this region.",
    "ðŸ•¹ï¸ High Score: 0 Keepers.",
    "ðŸ‘¾ All your base are belong to us.",
    "â˜¢ï¸ Nuclear launch detected.",
    "ðŸ¦Š Do a barrel roll.",
    "ðŸ”Œ Unplugging the internet. Going dark.",
    "ðŸŽ­ We live in a society.",
]

# ============================================================================
# PHRASE SELECTION LOGIC
# ============================================================================

# v8.0 GM: Track recently shown phrases to avoid repetition
_recent_phrases = []
_MAX_RECENT = 15  # Bumped up memory to avoid repeats


def get_phrase_by_duration(elapsed_seconds: float, use_meta: bool = False) -> str:
    """
    Select appropriate phrase based on processing duration.
    v8.0 GM: Now with anti-repetition logic for better variety.
    
    Args:
        elapsed_seconds: Time elapsed since processing started
        use_meta: If True, include VisionCrew meta phrases (for loading/waiting only)
    
    Returns:
        Random phrase from appropriate duration tier (avoiding recent repeats)
    """
    global _recent_phrases
    
    elapsed_minutes = elapsed_seconds / 60
    
    # Determine which phrase pool to use
    if elapsed_minutes < 5:
        pool = QUICK_PROCESSING_PHRASES
    elif elapsed_minutes < 15:
        pool = EARLY_PROCESSING_PHRASES
    elif elapsed_minutes < 30:
        pool = MID_PROCESSING_PHRASES
    elif elapsed_minutes < 60:
        pool = LONG_PROCESSING_PHRASES
    else:
        pool = MARATHON_PROCESSING_PHRASES
    
    # Add meta phrases if we're in loading/waiting context
    if use_meta:
        pool = pool + VISIONCREW_META_PHRASES
    
    # v8.0 GM: Filter out recently shown phrases for variety
    available_phrases = [p for p in pool if p not in _recent_phrases]
    
    # If we've exhausted all phrases (rare), reset the recent list
    if not available_phrases:
        _recent_phrases.clear()
        available_phrases = pool
    
    # Select random phrase from available pool
    selected = random.choice(available_phrases)
    
    # Track this phrase to avoid repetition
    _recent_phrases.append(selected)
    if len(_recent_phrases) > _MAX_RECENT:
        _recent_phrases.pop(0)  # Remove oldest phrase
    
    return selected


def get_model_loading_phrase() -> str:
    """Get a random model loading phrase."""
    return random.choice(MODEL_LOADING_PHRASES)


def get_quit_message() -> str:
    """Get a random quit message."""
    QUIT_MESSAGES = [
        "ðŸ‘‹ LOGGING OFF...",
        "ðŸ’€ CONNECTION TERMINATED.",
        "ðŸ”Œ PULLING THE PLUG.",
        "ðŸ’¾ NO CARRIER.",
        "ðŸ‘‹ KTHXBYE.",
    ]
    return random.choice(QUIT_MESSAGES)


# ============================================================================
# STATISTICS & VALIDATION
# ============================================================================

def get_phrase_count() -> dict:
    """Return count of phrases in each category for validation."""
    return {
        "model_loading": len(MODEL_LOADING_PHRASES),
        "quick": len(QUICK_PROCESSING_PHRASES),
        "early": len(EARLY_PROCESSING_PHRASES),
        "mid": len(MID_PROCESSING_PHRASES),
        "long": len(LONG_PROCESSING_PHRASES),
        "marathon": len(MARATHON_PROCESSING_PHRASES),
        "meta": len(VISIONCREW_META_PHRASES),
        "total": (len(MODEL_LOADING_PHRASES) + 
                 len(QUICK_PROCESSING_PHRASES) +
                 len(EARLY_PROCESSING_PHRASES) +
                 len(MID_PROCESSING_PHRASES) +
                 len(LONG_PROCESSING_PHRASES) +
                 len(MARATHON_PROCESSING_PHRASES) +
                 len(VISIONCREW_META_PHRASES))
    }


if __name__ == "__main__":
    # Validation check
    counts = get_phrase_count()
    print("ðŸ“Š Phrase Library Statistics:")
    print(f"  Model Loading: {counts['model_loading']}")
    print(f"  Quick (0-5min): {counts['quick']}")
    print(f"  Early (5-15min): {counts['early']}")
    print(f"  Mid (15-30min): {counts['mid']}")
    print(f"  Long (30-60min): {counts['long']}")
    print(f"  Marathon (60+min): {counts['marathon']}")
    print(f"  VisionCrew Meta: {counts['meta']}")
    print(f"  TOTAL: {counts['total']} phrases")
    
    # Test phrase selection
    print("\nðŸ§ª Testing phrase selection:")
    print(f"  Loading: {get_model_loading_phrase()}")
    print(f"  Quick: {get_phrase_by_duration(120)}")  # 2 min
    print(f"  Mid: {get_phrase_by_duration(1200)}")  # 20 min
    print(f"  Marathon: {get_phrase_by_duration(4000)}")  # 66 min
    print(f"  Quit: {get_quit_message()}")
